webpackJsonp([10],{83:function(e,t,n){var o=n(37)(n(84),n(85),null,null,null);o.options.__file="/Users/kerwinliu/Documents/code/code/learnEnglish/src/components/HeaderView.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] HeaderView.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(29);t["default"]={props:{beforeBack:{type:Function,"default":null},pageName:{type:String,"default":"index"},pageTitle:{type:String,"default":"index"},iconName:{type:String,"default":"back"}},mounted:function(){(0,o.saveFrom)(this.pageName,this.$router.history.current)},methods:{goBack:function(){this.beforeBack?this.beforeBack(this.backToLastPage):this.backToLastPage()},backToLastPage:function(){var e=(0,o.getBack)(this.pageName);this.$router.push({name:e.name,query:e.para})}}}},85:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"gb-header"},[n("div",{staticClass:"header-left"},[n("a",{staticClass:"icon","class":e.iconName,attrs:{href:"javascript:void (0);"},on:{click:e.goBack}})]),e._v(" "),n("h1",{staticClass:"has-icon"},[e._v(e._s(e.pageTitle))]),e._v(" "),e._t("default")],2)},staticRenderFns:[]},e.exports.render._withStripped=!0},117:function(e,t,n){var o=n(37)(n(118),n(119),null,null,null);o.options.__file="/Users/kerwinliu/Documents/code/code/learnEnglish/src/pages/account/signup.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] signup.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},118:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(83),r=o(s),i=n(30),a=n(29),c=n(10),u=o(c),l=new u["default"];t["default"]={components:{HeaderView:r["default"]},data:function(){return{mountedDom:!1,countDown:null,second:0,phone:null,verifyCode:null,inviteCode:null,backUrl:""}},beforeRouteEnter:function(e,t,n){n(function(t){t.backurl=e.query.returnUrl,t.inviteCode=e.query.inviteCode})},beforeRouteLeave:function(e,t,n){this.countDown&&window.clearInterval(this.countDown),n()},methods:{countTime:function(){var e=this;this.countDown&&window.clearInterval(this.countDown),this.second=60,this.countDown=window.setInterval(function(){e.second>0?e.second=e.second-1:e.countDown&&window.clearInterval(e.countDown)},1e3)},signup:function(){var e=this;return!!this.checkPhone()&&(this.verifyCode?void l.send({url:"setWechatLogin",type:"post",needLogin:!1,params:{Phone:this.phone,InviteCode:this.inviteCode,VerifyCode:this.verifyCode},success:function(t){(0,i.setCookie)({name:"ticket",value:t.Ticket}),e.getUserInfo()},error:function(e){(0,i.showAlert)(e.errorMsg)}}):((0,i.showAlert)("请输入验证码"),!1))},checkPhone:function(){return!!/^1\d{10}$/.test(this.phone)||((0,i.showAlert)("请输入正确的手机号"),!1)},getCode:function(){var e=this;return!!this.checkPhone()&&void l.send({url:"setWechatLogin",type:"put",needLogin:!1,params:{Phone:this.phone,InviteCode:this.inviteCode},success:function(){e.countTime()},error:function(e){(0,i.showAlert)(e.errorMsg)}})},getUserInfo:function(){var e=this;l.send({url:"getWechatUser",type:"get",params:{},success:function(t){var n=t.item,o=void 0===n?{}:n;(0,a.setStore)("userInfo",o),e.goBack(o)},error:function(){console.log("获取用户信息失败")}})},goBack:function(e){var t=(0,a.getStore)("loginBack");this.$store.dispatch("getNewUserInfo"),this.backurl&&"undefined"!=this.backurl?location.replace(this.backurl):t?((0,a.delStore)("loginBack"),location.replace(t)):(0,i.routerUrl)("index",this.$router)}}}},119:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page pg-account pg-account-signup"},[n("HeaderView",{attrs:{pageName:"signup",pageTitle:"创建帐户",iconName:"close"}}),e._v(" "),n("div",{staticClass:"mainview"},[n("section",{staticClass:"create"},[e._m(0),e._v(" "),n("p",[e._v("只需一步即可完成注册，超简单！")]),e._v(" "),n("div",{staticClass:"signup-form"},[n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"tel",maxlength:"11",placeholder:"手机号码"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"row"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],attrs:{type:"text",maxlength:"6",placeholder:"短信验证码"},domProps:{value:e.verifyCode},on:{input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"row"},[0===e.second?n("a",{staticClass:"get-sms-code",attrs:{href:"javascript:void(0);"},on:{click:e.getCode}},[e._v("获取验证码")]):e._e(),e._v(" "),e.second>0?n("a",{staticClass:"get-sms-code",attrs:{href:"javascript:void(0);"}},[e._v(e._s(e.second)+"秒后重新获取")]):e._e()]),e._v(" "),n("div",{staticClass:"row"},[n("a",{staticClass:"button primary-button",attrs:{href:"javascript:void(0);"},on:{click:e.signup}},[e._v("注册")])])])])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h2",[o("img",{attrs:{src:n(120)}})])}]},e.exports.render._withStripped=!0}});